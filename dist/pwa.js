!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PWA=t():e.PWA=t()}(this,function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);t.default=function(e,t=i){class r{static register(){n.isSupportedServiceWorker()&&window.addEventListener("load",()=>{navigator.serviceWorker.register(e.sw.filepath).then(e=>{e.update()}).catch(e=>{})})}static getRegistration(e){n.isSupportedServiceWorker()&&navigator.serviceWorker.getRegistration().then(t=>{e(t)}).catch(e=>{})}}class i{static show(e,t,i){this.isGranted()&&r.getRegistration(r=>{r?(r.showNotification(e,t),i(!0)):i(!1)})}static isDefault(){return"default"==this.getPermission()}static isGranted(){return"granted"==this.getPermission()}static isBlocked(){return"blocked"==this.getPermission()}static isDenied(){return"denied"==this.getPermission()}static requestPermission(e){n.isSupportedNotification()&&t.requestPermission(t=>{e(t)})}static getPermission(){return n.isSupportedNotification()?t.permission:null}}class n{static isSupportedServiceWorker(){return"serviceWorker"in navigator}static isSupportedNotification(){return!!("Notification"in window&&navigator.serviceWorker)}static isOffline(){return!navigator.onLine}static clearCache(){"caches"in window&&caches.keys().then(e=>{for(let t of e)caches.delete(t)})}}class o{static send(e,t,r){return fetch(e,{method:t,body:r})}static sendSubscription(t,r){const i=t.getKey("p256dh"),n=t.getKey("auth"),o=(PushManager.supportedContentEncodings||["aesgcm"])[0];return this.send(e.push.server.endpoint,r,JSON.stringify({endpoint:t.endpoint,publicKey:i?btoa(String.fromCharCode.apply(null,new Uint8Array(i))):null,authToken:n?btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null,contentEncoding:o}))}}class s{static urlBase64ToUint8Array(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(t),i=new Uint8Array(r.length);for(var n=0;n<r.length;++n)i[n]=r.charCodeAt(n);return i}}return{ServiceWorker:r,Notification:i,Push:class{static subscribe(t){n.isSupportedServiceWorker()&&r.getRegistration(r=>{r&&r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s.urlBase64ToUint8Array(e.push.server.public_key)}).then(e=>{o.sendSubscription(e,"POST"),t(e)}).catch(e=>{i.isDenied()})})}static unsubscribe(e){this.getSubscription(t=>{t?(o.sendSubscription(t,"DELETE"),t.unsubscribe(),e(!0)):e(!1)})}static updateSubscription(e){this.getSubscription(t=>{t?(o.sendSubscription(t,"PUT"),e(!0)):e(!1)})}static getSubscription(e){n.isSupportedServiceWorker()&&r.getRegistration(t=>{t&&t.pushManager.getSubscription().then(t=>{e(null===t?null:t)})})}},Navigator:n,Server:o,Helper:s}}(PWA_CONFIG,Notification)}]).default});